<h1 style="text-align: center; margin: 20px 0;">プロフィール編集</h1>

<%= form_with model: @user, url: profile_path(@user), local: true, method: :patch, html: { multipart: true } do |f| %>
  <div style="max-width: 500px; margin: 0 auto; display: flex; flex-direction: column; gap: 15px;">
    
    <!-- 表示名 -->
    <div>
      <%= f.label :display_name, "ユーザー名", style: "font-weight: bold;" %>
      <%= f.text_field :display_name, style: "width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 6px;" %>
    </div>

    <!-- アバター -->
    <div>
      <%= f.label :avatar, "アバター", style: "font-weight: bold;" %>
      <% if @user.avatar.attached? %>
        <div style="margin-bottom: 10px;">
          <%= image_tag @user.avatar.variant(resize_to_limit: [100, 100]), style: "border-radius: 50%;" %>
        </div>
      <% end %>
      <%= f.file_field :avatar %>
    </div>

    <!-- 送信ボタン -->
    <div>
      <%= f.submit "更新", style: "padding: 8px 12px; border-radius: 6px; background-color: #4CAF50; color: white; border: none; cursor: pointer;" %>
      <%= link_to "キャンセル", profile_path(@user), style: "margin-left: 10px; text-decoration: underline; color: #888;" %>
    </div>

  </div>
<% end %>
